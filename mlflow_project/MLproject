name: Forecast

conda_env: conda.yaml

entry_points:
  # Train/Prediction of a model.
  train:
    parameters:
      data: {type: string, default: ""}
      run_id: {type: string, default: ""}
      delta_output_path: {type: string, default: ""}
      train_fl: {type: bool, default: False}
      prediction_fl: {type: bool, default: False}
    command: "python train.py {data} {run_id} {delta_output_path} {train_fl} {prediction_fl}"

  # Parallel launch of mlflow runs.
  forecast:
    parameters:
      input_path: {type: string, default: ""}
      output_path: {type: string, default: ""}
      experiment_name: {type: string, default: ""}
      train_fl: {type: bool, default: false}
      prediction_fl: {type: bool, default: false}
      timeout: {type: int, default: 10800}
    command: "python forecast.py {input_path} {output_path} {experiment_name} {train_fl} {prediction_fl} {timeout}"

  main:
    parameters:
      input_path: {type: string, default: ""}
      output_path: {type: string, default: ""}
      experiment_name: {type: string, default: ""}
      train_fl: {type: bool, default: False}
      prediction_fl: {type: bool, default: False}
      timeout: {type: int, default: 10800}
    command: "python forecast.py {input_path} {output_path} {experiment_name} {train_fl} {prediction_fl} {timeout}"
